package edu.neumont.csc380;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Random;

public class RacecarFactory {

	private static Random ran = new Random();
	private static HashMap<Integer, Make> makes;	

	public static RaceCar makeCar(){

		initializeMakes();

		String make = "";
		String model = "";
		int horsepower = 0;
		double quarterMileTime = 0.0;

		Make make1 = getMake();
		make = make1.getName();
		
		model = getModel(make1);

		horsepower = ran.nextInt(1800);

		quarterMileTime = ran.nextInt(3000) + ran.nextDouble();

		return new RaceCar(make, model, horsepower, quarterMileTime);
	}

	private static Make getMake() {

		int key = ran.nextInt(makes.size());
		
		return makes.get(key);
	}

	private static String getModel(Make make) {

		int index = ran.nextInt(make.getSize());
			
		return make.getModel(index);
	}

	private static void initializeMakes() {

		makes = new HashMap<Integer, Make>();

		Make ford = new Make("Ford");

		ford.addModel("Focus");
		ford.addModel("F-150");
		ford.addModel("Torus");
		ford.addModel("Mustang");
		ford.addModel("Fiesta");

		makes.put(0, ford);

		Make gmc = new Make("GMC");

		ford.addModel("Terrain");
		ford.addModel("Yukon");
		ford.addModel("Sierra");
		ford.addModel("Acadia");
		ford.addModel("Canyon");

		makes.put(0, gmc);

		Make chevy = new Make("Chevy");

		ford.addModel("Corvette");
		ford.addModel("Camero");
		ford.addModel("Volt");
		ford.addModel("Implala");
		ford.addModel("Cruze");

		makes.put(0, chevy);

		Make nissan = new Make("Nissan");

		ford.addModel("Altima");
		ford.addModel("Sentra");
		ford.addModel("Frontier");
		ford.addModel("Juke");
		ford.addModel("Versa");

		makes.put(0, nissan);

		Make toyota = new Make("Toyota");

		ford.addModel("Corolla");
		ford.addModel("F-150");
		ford.addModel("Camry");
		ford.addModel("Rav4");
		ford.addModel("Prius");

		makes.put(0, toyota);

		Make honda = new Make("Honda");

		ford.addModel("CR-V");
		ford.addModel("Civic");
		ford.addModel("Fit");
		ford.addModel("Accord");
		ford.addModel("Pilot");

		makes.put(0, honda);

		Make mazda = new Make("Mazda");

		ford.addModel("CX-5");
		ford.addModel("Mazda2");
		ford.addModel("Mazda3");
		ford.addModel("Miata");
		ford.addModel("Mazda6");

		makes.put(0, mazda);

	}

	private static class Make {

		private String name;

		private ArrayList<String> models;

		public Make (String name){
			this.name = name;
			models = new ArrayList<String>();
		}

		public void addModel(String model){
			models.add(model);
		}

		public void removeModel(String model){
			models.remove(model);
		}

		public String getModel(int index){
			return models.get(index);
		}
		
		public String getName(){
			return name;
		}
		
		public int getSize(){
			return models.size();
		}
	}
}
